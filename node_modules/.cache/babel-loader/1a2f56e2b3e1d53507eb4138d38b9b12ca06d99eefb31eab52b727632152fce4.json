{"ast":null,"code":"const API_BASE = \"http://localhost:3001\";\nfunction queryParams(obj) {\n  const query = Object.entries(obj).map(([key, val]) => `${key}=${encodeURIComponent(val)}`).join(\"&\");\n  return query ? `?${query}` : \"\";\n}\nasync function list(resource) {\n  const res = await fetch(`${API_BASE}/${resource}`);\n  return res.json();\n}\nasync function create(resource, data) {\n  const res = await fetch(`${API_BASE}/${resource}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  return res.json();\n}\nasync function update(resource, id, data) {\n  const res = await fetch(`${API_BASE}/${resource}/${id}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  return res.json();\n}\nasync function remove(resource, id) {\n  const res = await fetch(`${API_BASE}/${resource}/${id}`, {\n    method: \"DELETE\"\n  });\n  return res.json();\n}\nasync function filter(resource, params) {\n  const res = await fetch(`${API_BASE}/${resource}${queryParams(params)}`);\n  return res.json();\n}\nconst api = {\n  Task: {\n    list: () => list(\"tasks\"),\n    create: data => create(\"tasks\", data),\n    update: (id, data) => update(\"tasks\", id, data),\n    delete: id => remove(\"tasks\", id)\n  },\n  TaskCompletion: {\n    list: () => list(\"taskCompletions\"),\n    create: data => create(\"taskCompletions\", data),\n    update: (id, data) => update(\"taskCompletions\", id, data),\n    filter: params => filter(\"taskCompletions\", params),\n    delete: id => remove(\"taskCompletions\", id)\n  },\n  Category: {\n    list: () => list(\"categories\"),\n    create: data => create(\"categories\", data),\n    update: (id, data) => update(\"categories\", id, data)\n  }\n};\nexport default api;","map":{"version":3,"names":["API_BASE","queryParams","obj","query","Object","entries","map","key","val","encodeURIComponent","join","list","resource","res","fetch","json","create","data","method","headers","body","JSON","stringify","update","id","remove","filter","params","api","Task","delete","TaskCompletion","Category"],"sources":["D:/Projetos/TCC/TimeX/src/api/apiClient.js"],"sourcesContent":["const API_BASE = \"http://localhost:3001\";\r\n\r\nfunction queryParams(obj) {\r\n  const query = Object.entries(obj)\r\n    .map(([key, val]) => `${key}=${encodeURIComponent(val)}`)\r\n    .join(\"&\");\r\n  return query ? `?${query}` : \"\";\r\n}\r\n\r\nasync function list(resource) {\r\n  const res = await fetch(`${API_BASE}/${resource}`);\r\n  return res.json();\r\n}\r\n\r\nasync function create(resource, data) {\r\n  const res = await fetch(`${API_BASE}/${resource}`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  });\r\n  return res.json();\r\n}\r\n\r\nasync function update(resource, id, data) {\r\n  const res = await fetch(`${API_BASE}/${resource}/${id}`, {\r\n    method: \"PUT\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  });\r\n  return res.json();\r\n}\r\n\r\nasync function remove(resource, id) {\r\n  const res = await fetch(`${API_BASE}/${resource}/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n  return res.json();\r\n}\r\n\r\nasync function filter(resource, params) {\r\n  const res = await fetch(`${API_BASE}/${resource}${queryParams(params)}`);\r\n  return res.json();\r\n}\r\n\r\nconst api = {\r\n  Task: {\r\n    list: () => list(\"tasks\"),\r\n    create: (data) => create(\"tasks\", data),\r\n    update: (id, data) => update(\"tasks\", id, data),\r\n    delete: (id) => remove(\"tasks\", id)\r\n  },\r\n\r\n  TaskCompletion: {\r\n    list: () => list(\"taskCompletions\"),\r\n    create: (data) => create(\"taskCompletions\", data),\r\n    update: (id, data) => update(\"taskCompletions\", id, data),\r\n    filter: (params) => filter(\"taskCompletions\", params),\r\n    delete: (id) => remove(\"taskCompletions\", id)\r\n  },\r\n\r\n  Category: {\r\n    list: () => list(\"categories\"),\r\n    create: (data) => create(\"categories\", data),\r\n    update: (id, data) => update(\"categories\", id, data)\r\n  }\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}