{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projetos\\\\TCC\\\\TimeX\\\\src\\\\pages\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport { createPageUrl } from \"../lib/utils\";\nimport { getTasks, createTask, updateTask, deleteTask } from \"../api/base44Client\";\nimport { Button } from \"../components/ui/button\";\nimport { Input } from \"../components/ui/input\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { base44 } from \"../api/base44Client\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Plus, ChevronLeft, ChevronRight, Pencil, Check, X, Sparkles } from \"lucide-react\";\nimport { Link } from \"react-router-dom\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { format } from \"date-fns\";\nimport { ptBR } from \"date-fns/locale\";\nimport TaskCard from \"../components/tasks/TaskCard\";\nimport ColorFilterBar from \"../components/tasks/ColorFilterBar\";\nimport TaskDetailsDialog from \"../components/tasks/TaskDetailsDialog\";\nimport AlarmFullScreen from \"../components/tasks/AlarmFullScreen\";\nimport CalendarPicker from \"../components/layout/CalendarPicker\";\nimport BottomNav from \"../components/layout/BottomNav\";\nimport IconSelector from \"../components/tasks/IconSelector\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst filterBackgrounds = {\n  all: \"bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50\",\n  red: \"bg-gradient-to-br from-red-50 to-red-100\",\n  yellow: \"bg-gradient-to-br from-yellow-50 to-yellow-100\",\n  blue: \"bg-gradient-to-br from-blue-50 to-blue-100\",\n  green: \"bg-gradient-to-br from-green-50 to-green-100\"\n};\nconst categoryDefaults = {\n  all: {\n    name: \"Geral\",\n    editable: false,\n    textColor: \"text-gray-900\",\n    defaultIcon: \"LayoutGrid\"\n  },\n  red: {\n    name: \"Trabalho\",\n    editable: true,\n    textColor: \"text-red-600\",\n    defaultIcon: \"Briefcase\"\n  },\n  yellow: {\n    name: \"Estudos\",\n    editable: true,\n    textColor: \"text-yellow-600\",\n    defaultIcon: \"BookOpen\"\n  },\n  blue: {\n    name: \"Pessoal\",\n    editable: true,\n    textColor: \"text-blue-600\",\n    defaultIcon: \"User\"\n  },\n  green: {\n    name: \"SaÃºde\",\n    editable: true,\n    textColor: \"text-green-600\",\n    defaultIcon: \"Heart\"\n  }\n};\nexport default function Home() {\n  _s();\n  const [activeFilter, setActiveFilter] = useState(\"all\");\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [showDetailsDialog, setShowDetailsDialog] = useState(false);\n  const [alarmTask, setAlarmTask] = useState(null);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [showCalendar, setShowCalendar] = useState(false);\n  const [categoryNames, setCategoryNames] = useState({});\n  const [categoryIcons, setCategoryIcons] = useState({});\n  const [isEditingCategory, setIsEditingCategory] = useState(false);\n  const [editCategoryValue, setEditCategoryValue] = useState(\"\");\n  const [showIconSelector, setShowIconSelector] = useState(false);\n  const editRef = useRef(null);\n  const queryClient = useQueryClient();\n  const {\n    data: tasks,\n    isLoading\n  } = useQuery({\n    queryKey: ['tasks', selectedDate.toDateString()],\n    queryFn: async () => {\n      const allTasks = await base44.entities.Task.list();\n      const activeTasks = allTasks.filter(t => t.active !== false);\n      const selectedDayOfWeek = [\"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"][selectedDate.getDay()];\n      const tasksForSelectedDay = activeTasks.filter(task => {\n        if (!task.recurrence || task.recurrence.length === 0) {\n          const taskCreatedDate = new Date(task.created_date);\n          const taskDay = taskCreatedDate.toDateString();\n          const selectedDay = selectedDate.toDateString();\n          return taskDay === selectedDay;\n        }\n        if (task.recurrence.includes(\"everyday\")) {\n          return true;\n        }\n        return task.recurrence.includes(selectedDayOfWeek);\n      });\n      const sortedTasks = tasksForSelectedDay.sort((a, b) => {\n        const [aHour, aMinute] = a.time.split(':').map(Number);\n        const [bHour, bMinute] = b.time.split(':').map(Number);\n        const aTotal = aHour * 60 + aMinute;\n        const bTotal = bHour * 60 + bMinute;\n        return aTotal - bTotal;\n      });\n      const dateStr = format(selectedDate, 'yyyy-MM-dd');\n      const completions = await base44.entities.TaskCompletion.filter({\n        date: dateStr\n      });\n      const completionsMap = {};\n      completions.forEach(comp => {\n        completionsMap[comp.task_id] = comp.completed;\n      });\n      const tasksWithCompletions = sortedTasks.map(task => ({\n        ...task,\n        completed_today: completionsMap[task.id] || false\n      }));\n      const now = new Date();\n      now.setHours(0, 0, 0, 0);\n      const selectedDateOnly = new Date(selectedDate);\n      selectedDateOnly.setHours(0, 0, 0, 0);\n      if (selectedDateOnly < now) {\n        for (const task of tasksWithCompletions) {\n          if (!task.completed_today) {\n            const existing = completions.find(c => c.task_id === task.id);\n            if (existing) {\n              await base44.entities.TaskCompletion.update(existing.id, {\n                completed: true\n              });\n            } else {\n              await base44.entities.TaskCompletion.create({\n                task_id: task.id,\n                date: dateStr,\n                completed: true\n              });\n            }\n            task.completed_today = true;\n          }\n        }\n      } else if (selectedDateOnly.getTime() === now.getTime()) {\n        const currentHour = new Date().getHours();\n        const currentMinute = new Date().getMinutes();\n        const currentTotalMinutes = currentHour * 60 + currentMinute;\n        for (const task of tasksWithCompletions) {\n          const [taskHour, taskMinute] = task.time.split(':').map(Number);\n          const taskTotalMinutes = taskHour * 60 + taskMinute;\n          if (taskTotalMinutes < currentTotalMinutes && !task.completed_today) {\n            const existing = completions.find(c => c.task_id === task.id);\n            if (existing) {\n              await base44.entities.TaskCompletion.update(existing.id, {\n                completed: true\n              });\n            } else {\n              await base44.entities.TaskCompletion.create({\n                task_id: task.id,\n                date: dateStr,\n                completed: true\n              });\n            }\n            task.completed_today = true;\n          }\n        }\n      }\n      return tasksWithCompletions;\n    },\n    initialData: []\n  });\n  useEffect(() => {\n    loadCategoryData();\n  }, []);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (isEditingCategory && editRef.current && !editRef.current.contains(event.target)) {\n        handleCancelEditCategory();\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isEditingCategory]);\n  const loadCategoryData = async () => {\n    try {\n      const categories = await base44.entities.Category.list();\n      const names = {};\n      const icons = {};\n      categories.forEach(cat => {\n        names[cat.color] = cat.name;\n        icons[cat.color] = cat.icon;\n      });\n      setCategoryNames(names);\n      setCategoryIcons(icons);\n    } catch (error) {\n      console.error(\"Error loading categories:\", error);\n    }\n  };\n  useEffect(() => {\n    requestNotificationPermission();\n    const alarmChecker = setInterval(() => {\n      checkForAlarms();\n    }, 60000);\n    checkForAlarms();\n    return () => {\n      clearInterval(alarmChecker);\n    };\n  }, []);\n  useEffect(() => {\n    return () => setActiveFilter(\"all\");\n  }, []);\n  const requestNotificationPermission = () => {\n    if ('Notification' in window && Notification.permission === 'default') {\n      Notification.requestPermission();\n    }\n  };\n  const checkForAlarms = async () => {\n    const now = new Date();\n    const currentHour = now.getHours();\n    const currentMinute = now.getMinutes();\n    const currentDayIndex = now.getDay();\n    const daysOfWeek = [\"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"];\n    const currentDay = daysOfWeek[currentDayIndex];\n    const dateStr = format(now, 'yyyy-MM-dd');\n    const allTasks = await base44.entities.Task.list();\n    const activeTasks = allTasks.filter(t => t.active !== false);\n    const completions = await base44.entities.TaskCompletion.filter({\n      date: dateStr\n    });\n    const completedTaskIds = completions.filter(c => c.completed).map(c => c.task_id);\n    for (const task of activeTasks) {\n      if (completedTaskIds.includes(task.id)) {\n        continue;\n      }\n      if (task.recurrence && task.recurrence.length > 0) {\n        if (!task.recurrence.includes(\"everyday\") && !task.recurrence.includes(currentDay)) {\n          continue;\n        }\n      } else {\n        const taskCreatedDate = new Date(task.created_date);\n        const today = new Date();\n        if (taskCreatedDate.toDateString() !== today.toDateString()) {\n          continue;\n        }\n      }\n      const [taskHour, taskMinute] = task.time.split(':').map(Number);\n      const taskTotalMinutes = taskHour * 60 + taskMinute;\n      const currentTotalMinutes = currentHour * 60 + currentMinute;\n      const minutesDifference = taskTotalMinutes - currentTotalMinutes;\n      if ([30, 20, 10, 5, 0].includes(minutesDifference)) {\n        sendNotification(task, minutesDifference);\n        if (minutesDifference === 0) {\n          setAlarmTask(task);\n          playAlarmSound();\n        }\n      }\n    }\n  };\n  const sendNotification = (task, minutesBefore) => {\n    const title = minutesBefore === 0 ? `ðŸ”” ${task.name} - AGORA!` : `â° ${task.name} - em ${minutesBefore} minutos`;\n    const body = task.description || `Tarefa Ã s ${task.time}`;\n    if ('Notification' in window && Notification.permission === 'granted') {\n      new Notification(title, {\n        body: body,\n        icon: '/icon-192.png',\n        badge: '/icon-192.png'\n      });\n    }\n  };\n  const playAlarmSound = () => {\n    const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    const oscillator = audioContext.createOscillator();\n    const gainNode = audioContext.createGain();\n    oscillator.connect(gainNode);\n    gainNode.connect(audioContext.destination);\n    oscillator.frequency.value = 800;\n    oscillator.type = 'sine';\n    gainNode.gain.value = 0.3;\n    oscillator.start();\n    setTimeout(() => oscillator.stop(), 200);\n  };\n  const handleTaskClick = task => {\n    setSelectedTask(task);\n    setShowDetailsDialog(true);\n  };\n  const toggleCompletionMutation = useMutation({\n    mutationFn: async ({\n      taskId,\n      completed\n    }) => {\n      const dateStr = format(selectedDate, 'yyyy-MM-dd');\n      const completions = await base44.entities.TaskCompletion.filter({\n        task_id: taskId,\n        date: dateStr\n      });\n      if (completions.length > 0) {\n        await base44.entities.TaskCompletion.update(completions[0].id, {\n          completed\n        });\n      } else {\n        await base44.entities.TaskCompletion.create({\n          task_id: taskId,\n          date: dateStr,\n          completed\n        });\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['tasks']\n      });\n    }\n  });\n  const handleToggleCompletion = task => {\n    const newCompletedState = !task.completed_today;\n    toggleCompletionMutation.mutate({\n      taskId: task.id,\n      completed: newCompletedState\n    });\n  };\n  const deleteTaskMutation = useMutation({\n    mutationFn: taskId => base44.entities.Task.delete(taskId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['tasks']\n      });\n      setShowDetailsDialog(false);\n      setSelectedTask(null);\n    }\n  });\n  const handleDeleteTask = async taskId => {\n    deleteTaskMutation.mutate(taskId);\n  };\n  const handleDismissAlarm = () => {\n    setAlarmTask(null);\n  };\n  const handlePreviousDay = () => {\n    const newDate = new Date(selectedDate);\n    newDate.setDate(newDate.getDate() - 1);\n    setSelectedDate(newDate);\n  };\n  const handleNextDay = () => {\n    const newDate = new Date(selectedDate);\n    newDate.setDate(newDate.getDate() + 1);\n    setSelectedDate(newDate);\n  };\n  const handleDateSelect = date => {\n    setSelectedDate(date);\n  };\n  const handleStartEditCategory = () => {\n    const currentCategory = categoryDefaults[activeFilter];\n    if (!currentCategory.editable) return;\n    const displayName = categoryNames[activeFilter] || currentCategory.name;\n    setEditCategoryValue(displayName);\n    setIsEditingCategory(true);\n  };\n  const handleSaveCategory = async () => {\n    if (!editCategoryValue.trim()) {\n      setIsEditingCategory(false);\n      return;\n    }\n    try {\n      const categories = await base44.entities.Category.list();\n      const existing = categories.find(c => c.color === activeFilter);\n      const currentIcon = categoryIcons[activeFilter] || categoryDefaults[activeFilter].defaultIcon;\n      if (existing) {\n        await base44.entities.Category.update(existing.id, {\n          name: editCategoryValue.trim(),\n          icon: currentIcon\n        });\n      } else {\n        await base44.entities.Category.create({\n          color: activeFilter,\n          name: editCategoryValue.trim(),\n          icon: currentIcon\n        });\n      }\n      await loadCategoryData();\n      setIsEditingCategory(false);\n    } catch (error) {\n      console.error(\"Error saving category:\", error);\n    }\n  };\n  const handleSelectIcon = async iconName => {\n    try {\n      const categories = await base44.entities.Category.list();\n      const existing = categories.find(c => c.color === activeFilter);\n      const currentName = categoryNames[activeFilter] || categoryDefaults[activeFilter].name;\n      if (existing) {\n        await base44.entities.Category.update(existing.id, {\n          icon: iconName\n        });\n      } else {\n        await base44.entities.Category.create({\n          color: activeFilter,\n          name: currentName,\n          icon: iconName\n        });\n      }\n      await loadCategoryData();\n    } catch (error) {\n      console.error(\"Error saving icon:\", error);\n    }\n  };\n  const handleCancelEditCategory = () => {\n    setIsEditingCategory(false);\n    setEditCategoryValue(\"\");\n  };\n  const formatDisplayDate = () => {\n    const dayName = format(selectedDate, 'EEE', {\n      locale: ptBR\n    });\n    const dateStr = format(selectedDate, 'dd/MM/yyyy');\n    return `${dayName.charAt(0).toUpperCase() + dayName.slice(1)}, ${dateStr}`;\n  };\n  const filteredTasks = activeFilter === \"all\" ? tasks : tasks.filter(task => task.color === activeFilter);\n  const currentBackground = filterBackgrounds[activeFilter] || filterBackgrounds.all;\n  const currentCategory = categoryDefaults[activeFilter];\n  const displayCategoryName = categoryNames[activeFilter] || currentCategory.name;\n  const currentIcon = categoryIcons[activeFilter] || currentCategory.defaultIcon;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen ${currentBackground} transition-colors duration-500 pb-24`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-0 left-0 right-0 z-30 bg-white border-b border-gray-200 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-2xl mx-auto px-4 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            size: \"icon\",\n            onClick: handlePreviousDay,\n            className: \"rounded-full\",\n            children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n              className: \"w-5 h-5 text-gray-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              y: -20\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl font-bold text-gray-900\",\n              children: formatDisplayDate()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            size: \"icon\",\n            onClick: handleNextDay,\n            className: \"rounded-full\",\n            children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n              className: \"w-5 h-5 text-gray-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto px-4 pt-20 py-6 space-y-6 pb-32\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: -20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          delay: 0.1\n        },\n        children: /*#__PURE__*/_jsxDEV(ColorFilterBar, {\n          selectedFilter: activeFilter,\n          onFilterChange: setActiveFilter,\n          categoryIcons: categoryIcons\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: -20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          delay: 0.2\n        },\n        className: \"flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: editRef,\n          className: \"bg-white rounded-full shadow-md px-6 py-2 flex items-center gap-2\",\n          children: isEditingCategory ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              value: editCategoryValue,\n              onChange: e => setEditCategoryValue(e.target.value),\n              className: \"h-8 text-base font-bold text-center border-0 focus-visible:ring-1 w-32\",\n              autoFocus: true,\n              onKeyDown: e => {\n                if (e.key === \"Enter\") handleSaveCategory();\n                if (e.key === \"Escape\") handleCancelEditCategory();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"icon\",\n              variant: \"ghost\",\n              onClick: () => setShowIconSelector(true),\n              className: \"h-7 w-7\",\n              children: /*#__PURE__*/_jsxDEV(Sparkles, {\n                className: \"w-4 h-4 text-purple-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"icon\",\n              variant: \"ghost\",\n              onClick: handleSaveCategory,\n              className: \"h-7 w-7\",\n              children: /*#__PURE__*/_jsxDEV(Check, {\n                className: \"w-4 h-4 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"icon\",\n              variant: \"ghost\",\n              onClick: handleCancelEditCategory,\n              className: \"h-7 w-7\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-4 h-4 text-red-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-base font-bold ${currentCategory.textColor}`,\n              children: displayCategoryName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 17\n            }, this), currentCategory.editable && /*#__PURE__*/_jsxDEV(Button, {\n              size: \"icon\",\n              variant: \"ghost\",\n              onClick: handleStartEditCategory,\n              className: \"h-7 w-7\",\n              children: /*#__PURE__*/_jsxDEV(Pencil, {\n                className: \"w-3 h-3 text-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          mode: \"popLayout\",\n          children: filteredTasks.length === 0 ? /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0\n            },\n            animate: {\n              opacity: 1\n            },\n            exit: {\n              opacity: 0\n            },\n            className: \"text-center py-20\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-7xl mb-6\",\n              children: \"\\uD83D\\uDCCB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl text-gray-600 font-bold mb-2\",\n              children: activeFilter === \"all\" ? \"Nenhuma tarefa para este dia\" : `Nenhuma tarefa em ${displayCategoryName}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-lg\",\n              children: \"Clique no bot\\xE3o + para adicionar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 15\n          }, this) : filteredTasks.map(task => /*#__PURE__*/_jsxDEV(TaskCard, {\n            task: task,\n            onClick: () => handleTaskClick(task),\n            onToggleCompletion: handleToggleCompletion\n          }, task.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: createPageUrl(\"CreateTask\"),\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          scale: 0\n        },\n        animate: {\n          scale: 1\n        },\n        transition: {\n          type: \"spring\",\n          delay: 0.3\n        },\n        whileHover: {\n          scale: 1.05\n        },\n        whileTap: {\n          scale: 0.95\n        },\n        className: \"fixed bottom-24 right-8 z-30\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"\\r w-20 h-20\\r rounded-full\\r bg-slate-900\\r shadow-[0_12px_40px_rgba(15,23,42,0.7)]\\r flex items-center justify-center\\r text-white text-3xl\\r \",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"leading-none\",\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(BottomNav, {\n      onCalendarClick: () => setShowCalendar(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CalendarPicker, {\n      isOpen: showCalendar,\n      onClose: () => setShowCalendar(false),\n      selectedDate: selectedDate,\n      onDateSelect: handleDateSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 603,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TaskDetailsDialog, {\n      task: selectedTask,\n      isOpen: showDetailsDialog,\n      onClose: () => setShowDetailsDialog(false),\n      onDelete: handleDeleteTask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IconSelector, {\n      isOpen: showIconSelector,\n      onClose: () => setShowIconSelector(false),\n      onSelectIcon: handleSelectIcon,\n      currentIcon: currentIcon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 7\n    }, this), alarmTask && /*#__PURE__*/_jsxDEV(AlarmFullScreen, {\n      task: alarmTask,\n      onDismiss: handleDismissAlarm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 428,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"+i93cCksDHZCkE9kbqw6j901QNQ=\", false, function () {\n  return [useQueryClient, useQuery, useMutation, useMutation];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["createPageUrl","getTasks","createTask","updateTask","deleteTask","Button","Input","React","useState","useEffect","useRef","base44","useQuery","useMutation","useQueryClient","Plus","ChevronLeft","ChevronRight","Pencil","Check","X","Sparkles","Link","motion","AnimatePresence","format","ptBR","TaskCard","ColorFilterBar","TaskDetailsDialog","AlarmFullScreen","CalendarPicker","BottomNav","IconSelector","jsxDEV","_jsxDEV","Fragment","_Fragment","filterBackgrounds","all","red","yellow","blue","green","categoryDefaults","name","editable","textColor","defaultIcon","Home","_s","activeFilter","setActiveFilter","selectedTask","setSelectedTask","showDetailsDialog","setShowDetailsDialog","alarmTask","setAlarmTask","selectedDate","setSelectedDate","Date","showCalendar","setShowCalendar","categoryNames","setCategoryNames","categoryIcons","setCategoryIcons","isEditingCategory","setIsEditingCategory","editCategoryValue","setEditCategoryValue","showIconSelector","setShowIconSelector","editRef","queryClient","data","tasks","isLoading","queryKey","toDateString","queryFn","allTasks","entities","Task","list","activeTasks","filter","t","active","selectedDayOfWeek","getDay","tasksForSelectedDay","task","recurrence","length","taskCreatedDate","created_date","taskDay","selectedDay","includes","sortedTasks","sort","a","b","aHour","aMinute","time","split","map","Number","bHour","bMinute","aTotal","bTotal","dateStr","completions","TaskCompletion","date","completionsMap","forEach","comp","task_id","completed","tasksWithCompletions","completed_today","id","now","setHours","selectedDateOnly","existing","find","c","update","create","getTime","currentHour","getHours","currentMinute","getMinutes","currentTotalMinutes","taskHour","taskMinute","taskTotalMinutes","initialData","loadCategoryData","handleClickOutside","event","current","contains","target","handleCancelEditCategory","document","addEventListener","removeEventListener","categories","Category","names","icons","cat","color","icon","error","console","requestNotificationPermission","alarmChecker","setInterval","checkForAlarms","clearInterval","window","Notification","permission","requestPermission","currentDayIndex","daysOfWeek","currentDay","completedTaskIds","today","minutesDifference","sendNotification","playAlarmSound","minutesBefore","title","body","description","badge","audioContext","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","value","type","gain","start","setTimeout","stop","handleTaskClick","toggleCompletionMutation","mutationFn","taskId","onSuccess","invalidateQueries","handleToggleCompletion","newCompletedState","mutate","deleteTaskMutation","delete","handleDeleteTask","handleDismissAlarm","handlePreviousDay","newDate","setDate","getDate","handleNextDay","handleDateSelect","handleStartEditCategory","currentCategory","displayName","handleSaveCategory","trim","currentIcon","handleSelectIcon","iconName","currentName","formatDisplayDate","dayName","locale","charAt","toUpperCase","slice","filteredTasks","currentBackground","displayCategoryName","className","children","variant","size","onClick","fileName","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","y","animate","transition","delay","selectedFilter","onFilterChange","ref","onChange","e","autoFocus","onKeyDown","key","mode","exit","onToggleCompletion","to","scale","whileHover","whileTap","onCalendarClick","isOpen","onClose","onDateSelect","onDelete","onSelectIcon","onDismiss","_c","$RefreshReg$"],"sources":["D:/Projetos/TCC/TimeX/src/pages/Home.jsx"],"sourcesContent":["import { createPageUrl } from \"../lib/utils\";\r\nimport { getTasks, createTask, updateTask, deleteTask } from \"../api/base44Client\";\r\nimport { Button } from \"../components/ui/button\";\r\nimport { Input } from \"../components/ui/input\";\r\n\r\n\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { base44 } from \"../api/base44Client\";\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { Plus, ChevronLeft, ChevronRight, Pencil, Check, X, Sparkles } from \"lucide-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { format } from \"date-fns\";\r\nimport { ptBR } from \"date-fns/locale\";\r\n\r\nimport TaskCard from \"../components/tasks/TaskCard\";\r\nimport ColorFilterBar from \"../components/tasks/ColorFilterBar\";\r\nimport TaskDetailsDialog from \"../components/tasks/TaskDetailsDialog\";\r\nimport AlarmFullScreen from \"../components/tasks/AlarmFullScreen\";\r\nimport CalendarPicker from \"../components/layout/CalendarPicker\";\r\nimport BottomNav from \"../components/layout/BottomNav\";\r\nimport IconSelector from \"../components/tasks/IconSelector\";\r\n\r\nconst filterBackgrounds = {\r\n  all: \"bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50\",\r\n  red: \"bg-gradient-to-br from-red-50 to-red-100\",\r\n  yellow: \"bg-gradient-to-br from-yellow-50 to-yellow-100\",\r\n  blue: \"bg-gradient-to-br from-blue-50 to-blue-100\",\r\n  green: \"bg-gradient-to-br from-green-50 to-green-100\"\r\n};\r\n\r\nconst categoryDefaults = {\r\n  all: { name: \"Geral\", editable: false, textColor: \"text-gray-900\", defaultIcon: \"LayoutGrid\" },\r\n  red: { name: \"Trabalho\", editable: true, textColor: \"text-red-600\", defaultIcon: \"Briefcase\" },\r\n  yellow: { name: \"Estudos\", editable: true, textColor: \"text-yellow-600\", defaultIcon: \"BookOpen\" },\r\n  blue: { name: \"Pessoal\", editable: true, textColor: \"text-blue-600\", defaultIcon: \"User\" },\r\n  green: { name: \"SaÃºde\", editable: true, textColor: \"text-green-600\", defaultIcon: \"Heart\" }\r\n};\r\n\r\nexport default function Home() {\r\n  const [activeFilter, setActiveFilter] = useState(\"all\");\r\n  const [selectedTask, setSelectedTask] = useState(null);\r\n  const [showDetailsDialog, setShowDetailsDialog] = useState(false);\r\n  const [alarmTask, setAlarmTask] = useState(null);\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n  const [showCalendar, setShowCalendar] = useState(false);\r\n  const [categoryNames, setCategoryNames] = useState({});\r\n  const [categoryIcons, setCategoryIcons] = useState({});\r\n  const [isEditingCategory, setIsEditingCategory] = useState(false);\r\n  const [editCategoryValue, setEditCategoryValue] = useState(\"\");\r\n  const [showIconSelector, setShowIconSelector] = useState(false);\r\n  const editRef = useRef(null);\r\n  \r\n  const queryClient = useQueryClient();\r\n\r\n  const { data: tasks, isLoading } = useQuery({\r\n    queryKey: ['tasks', selectedDate.toDateString()],\r\n    queryFn: async () => {\r\n      const allTasks = await base44.entities.Task.list();\r\n      const activeTasks = allTasks.filter(t => t.active !== false);\r\n      \r\n      const selectedDayOfWeek = [\"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"][selectedDate.getDay()];\r\n      \r\n      const tasksForSelectedDay = activeTasks.filter(task => {\r\n        if (!task.recurrence || task.recurrence.length === 0) {\r\n          const taskCreatedDate = new Date(task.created_date);\r\n          const taskDay = taskCreatedDate.toDateString();\r\n          const selectedDay = selectedDate.toDateString();\r\n          return taskDay === selectedDay;\r\n        }\r\n        \r\n        if (task.recurrence.includes(\"everyday\")) {\r\n          return true;\r\n        }\r\n        \r\n        return task.recurrence.includes(selectedDayOfWeek);\r\n      });\r\n      \r\n      const sortedTasks = tasksForSelectedDay.sort((a, b) => {\r\n        const [aHour, aMinute] = a.time.split(':').map(Number);\r\n        const [bHour, bMinute] = b.time.split(':').map(Number);\r\n        const aTotal = aHour * 60 + aMinute;\r\n        const bTotal = bHour * 60 + bMinute;\r\n        return aTotal - bTotal;\r\n      });\r\n\r\n      const dateStr = format(selectedDate, 'yyyy-MM-dd');\r\n      const completions = await base44.entities.TaskCompletion.filter({ date: dateStr });\r\n      \r\n      const completionsMap = {};\r\n      completions.forEach(comp => {\r\n        completionsMap[comp.task_id] = comp.completed;\r\n      });\r\n\r\n      const tasksWithCompletions = sortedTasks.map(task => ({\r\n        ...task,\r\n        completed_today: completionsMap[task.id] || false\r\n      }));\r\n\r\n      const now = new Date();\r\n      now.setHours(0, 0, 0, 0);\r\n      const selectedDateOnly = new Date(selectedDate);\r\n      selectedDateOnly.setHours(0, 0, 0, 0);\r\n      \r\n      if (selectedDateOnly < now) {\r\n        for (const task of tasksWithCompletions) {\r\n          if (!task.completed_today) {\r\n            const existing = completions.find(c => c.task_id === task.id);\r\n            if (existing) {\r\n              await base44.entities.TaskCompletion.update(existing.id, { completed: true });\r\n            } else {\r\n              await base44.entities.TaskCompletion.create({\r\n                task_id: task.id,\r\n                date: dateStr,\r\n                completed: true\r\n              });\r\n            }\r\n            task.completed_today = true;\r\n          }\r\n        }\r\n      } else if (selectedDateOnly.getTime() === now.getTime()) {\r\n        const currentHour = new Date().getHours();\r\n        const currentMinute = new Date().getMinutes();\r\n        const currentTotalMinutes = currentHour * 60 + currentMinute;\r\n\r\n        for (const task of tasksWithCompletions) {\r\n          const [taskHour, taskMinute] = task.time.split(':').map(Number);\r\n          const taskTotalMinutes = taskHour * 60 + taskMinute;\r\n          \r\n          if (taskTotalMinutes < currentTotalMinutes && !task.completed_today) {\r\n            const existing = completions.find(c => c.task_id === task.id);\r\n            if (existing) {\r\n              await base44.entities.TaskCompletion.update(existing.id, { completed: true });\r\n            } else {\r\n              await base44.entities.TaskCompletion.create({\r\n                task_id: task.id,\r\n                date: dateStr,\r\n                completed: true\r\n              });\r\n            }\r\n            task.completed_today = true;\r\n          }\r\n        }\r\n      }\r\n      \r\n      return tasksWithCompletions;\r\n    },\r\n    initialData: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadCategoryData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (isEditingCategory && editRef.current && !editRef.current.contains(event.target)) {\r\n        handleCancelEditCategory();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [isEditingCategory]);\r\n\r\n  const loadCategoryData = async () => {\r\n    try {\r\n      const categories = await base44.entities.Category.list();\r\n      const names = {};\r\n      const icons = {};\r\n      categories.forEach(cat => {\r\n        names[cat.color] = cat.name;\r\n        icons[cat.color] = cat.icon;\r\n      });\r\n      setCategoryNames(names);\r\n      setCategoryIcons(icons);\r\n    } catch (error) {\r\n      console.error(\"Error loading categories:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    requestNotificationPermission();\r\n\r\n    const alarmChecker = setInterval(() => {\r\n      checkForAlarms();\r\n    }, 60000);\r\n\r\n    checkForAlarms();\r\n\r\n    return () => {\r\n      clearInterval(alarmChecker);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    return () => setActiveFilter(\"all\");\r\n  }, []);\r\n\r\n  const requestNotificationPermission = () => {\r\n    if ('Notification' in window && Notification.permission === 'default') {\r\n      Notification.requestPermission();\r\n    }\r\n  };\r\n\r\n  const checkForAlarms = async () => {\r\n    const now = new Date();\r\n    const currentHour = now.getHours();\r\n    const currentMinute = now.getMinutes();\r\n    const currentDayIndex = now.getDay();\r\n    const daysOfWeek = [\"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"];\r\n    const currentDay = daysOfWeek[currentDayIndex];\r\n    const dateStr = format(now, 'yyyy-MM-dd');\r\n\r\n    const allTasks = await base44.entities.Task.list();\r\n    const activeTasks = allTasks.filter(t => t.active !== false);\r\n    \r\n    const completions = await base44.entities.TaskCompletion.filter({ date: dateStr });\r\n    const completedTaskIds = completions.filter(c => c.completed).map(c => c.task_id);\r\n\r\n    for (const task of activeTasks) {\r\n      if (completedTaskIds.includes(task.id)) {\r\n        continue;\r\n      }\r\n\r\n      if (task.recurrence && task.recurrence.length > 0) {\r\n        if (!task.recurrence.includes(\"everyday\") && !task.recurrence.includes(currentDay)) {\r\n          continue;\r\n        }\r\n      } else {\r\n        const taskCreatedDate = new Date(task.created_date);\r\n        const today = new Date();\r\n        if (taskCreatedDate.toDateString() !== today.toDateString()) {\r\n          continue;\r\n        }\r\n      }\r\n\r\n      const [taskHour, taskMinute] = task.time.split(':').map(Number);\r\n      const taskTotalMinutes = taskHour * 60 + taskMinute;\r\n      const currentTotalMinutes = currentHour * 60 + currentMinute;\r\n      const minutesDifference = taskTotalMinutes - currentTotalMinutes;\r\n\r\n      if ([30, 20, 10, 5, 0].includes(minutesDifference)) {\r\n        sendNotification(task, minutesDifference);\r\n\r\n        if (minutesDifference === 0) {\r\n          setAlarmTask(task);\r\n          playAlarmSound();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const sendNotification = (task, minutesBefore) => {\r\n    const title = minutesBefore === 0 \r\n      ? `ðŸ”” ${task.name} - AGORA!`\r\n      : `â° ${task.name} - em ${minutesBefore} minutos`;\r\n    \r\n    const body = task.description || `Tarefa Ã s ${task.time}`;\r\n\r\n    if ('Notification' in window && Notification.permission === 'granted') {\r\n      new Notification(title, {\r\n        body: body,\r\n        icon: '/icon-192.png',\r\n        badge: '/icon-192.png'\r\n      });\r\n    }\r\n  };\r\n\r\n  const playAlarmSound = () => {\r\n    const audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n    const oscillator = audioContext.createOscillator();\r\n    const gainNode = audioContext.createGain();\r\n    \r\n    oscillator.connect(gainNode);\r\n    gainNode.connect(audioContext.destination);\r\n    \r\n    oscillator.frequency.value = 800;\r\n    oscillator.type = 'sine';\r\n    gainNode.gain.value = 0.3;\r\n    \r\n    oscillator.start();\r\n    setTimeout(() => oscillator.stop(), 200);\r\n  };\r\n\r\n  const handleTaskClick = (task) => {\r\n    setSelectedTask(task);\r\n    setShowDetailsDialog(true);\r\n  };\r\n\r\n  const toggleCompletionMutation = useMutation({\r\n    mutationFn: async ({ taskId, completed }) => {\r\n      const dateStr = format(selectedDate, 'yyyy-MM-dd');\r\n      const completions = await base44.entities.TaskCompletion.filter({ \r\n        task_id: taskId, \r\n        date: dateStr \r\n      });\r\n      \r\n      if (completions.length > 0) {\r\n        await base44.entities.TaskCompletion.update(completions[0].id, { completed });\r\n      } else {\r\n        await base44.entities.TaskCompletion.create({\r\n          task_id: taskId,\r\n          date: dateStr,\r\n          completed\r\n        });\r\n      }\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['tasks'] });\r\n    },\r\n  });\r\n\r\n  const handleToggleCompletion = (task) => {\r\n    const newCompletedState = !task.completed_today;\r\n    toggleCompletionMutation.mutate({ taskId: task.id, completed: newCompletedState });\r\n  };\r\n\r\n  const deleteTaskMutation = useMutation({\r\n    mutationFn: (taskId) => base44.entities.Task.delete(taskId),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['tasks'] });\r\n      setShowDetailsDialog(false);\r\n      setSelectedTask(null);\r\n    },\r\n  });\r\n\r\n  const handleDeleteTask = async (taskId) => {\r\n    deleteTaskMutation.mutate(taskId);\r\n  };\r\n\r\n  const handleDismissAlarm = () => {\r\n    setAlarmTask(null);\r\n  };\r\n\r\n  const handlePreviousDay = () => {\r\n    const newDate = new Date(selectedDate);\r\n    newDate.setDate(newDate.getDate() - 1);\r\n    setSelectedDate(newDate);\r\n  };\r\n\r\n  const handleNextDay = () => {\r\n    const newDate = new Date(selectedDate);\r\n    newDate.setDate(newDate.getDate() + 1);\r\n    setSelectedDate(newDate);\r\n  };\r\n\r\n  const handleDateSelect = (date) => {\r\n    setSelectedDate(date);\r\n  };\r\n\r\n  const handleStartEditCategory = () => {\r\n    const currentCategory = categoryDefaults[activeFilter];\r\n    if (!currentCategory.editable) return;\r\n    \r\n    const displayName = categoryNames[activeFilter] || currentCategory.name;\r\n    setEditCategoryValue(displayName);\r\n    setIsEditingCategory(true);\r\n  };\r\n\r\n  const handleSaveCategory = async () => {\r\n    if (!editCategoryValue.trim()) {\r\n      setIsEditingCategory(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const categories = await base44.entities.Category.list();\r\n      const existing = categories.find(c => c.color === activeFilter);\r\n      \r\n      const currentIcon = categoryIcons[activeFilter] || categoryDefaults[activeFilter].defaultIcon;\r\n\r\n      if (existing) {\r\n        await base44.entities.Category.update(existing.id, { name: editCategoryValue.trim(), icon: currentIcon });\r\n      } else {\r\n        await base44.entities.Category.create({ color: activeFilter, name: editCategoryValue.trim(), icon: currentIcon });\r\n      }\r\n\r\n      await loadCategoryData();\r\n      setIsEditingCategory(false);\r\n    } catch (error) {\r\n      console.error(\"Error saving category:\", error);\r\n    }\r\n  };\r\n\r\n  const handleSelectIcon = async (iconName) => {\r\n    try {\r\n      const categories = await base44.entities.Category.list();\r\n      const existing = categories.find(c => c.color === activeFilter);\r\n      \r\n      const currentName = categoryNames[activeFilter] || categoryDefaults[activeFilter].name;\r\n\r\n      if (existing) {\r\n        await base44.entities.Category.update(existing.id, { icon: iconName });\r\n      } else {\r\n        await base44.entities.Category.create({ color: activeFilter, name: currentName, icon: iconName });\r\n      }\r\n\r\n      await loadCategoryData();\r\n    } catch (error) {\r\n      console.error(\"Error saving icon:\", error);\r\n    }\r\n  };\r\n\r\n  const handleCancelEditCategory = () => {\r\n    setIsEditingCategory(false);\r\n    setEditCategoryValue(\"\");\r\n  };\r\n\r\n  const formatDisplayDate = () => {\r\n    const dayName = format(selectedDate, 'EEE', { locale: ptBR });\r\n    const dateStr = format(selectedDate, 'dd/MM/yyyy');\r\n    return `${dayName.charAt(0).toUpperCase() + dayName.slice(1)}, ${dateStr}`;\r\n  };\r\n\r\n  const filteredTasks = activeFilter === \"all\"\r\n    ? tasks\r\n    : tasks.filter(task => task.color === activeFilter);\r\n\r\n  const currentBackground = filterBackgrounds[activeFilter] || filterBackgrounds.all;\r\n  const currentCategory = categoryDefaults[activeFilter];\r\n  const displayCategoryName = categoryNames[activeFilter] || currentCategory.name;\r\n  const currentIcon = categoryIcons[activeFilter] || currentCategory.defaultIcon;\r\n\r\n  return (\r\n    <div className={`min-h-screen ${currentBackground} transition-colors duration-500 pb-24`}>\r\n      {/* Fixed Header - Data */}\r\n      <div className=\"fixed top-0 left-0 right-0 z-30 bg-white border-b border-gray-200 shadow-sm\">\r\n        <div className=\"max-w-2xl mx-auto px-4 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              onClick={handlePreviousDay}\r\n              className=\"rounded-full\"\r\n            >\r\n              <ChevronLeft className=\"w-5 h-5 text-gray-500\" />\r\n            </Button>\r\n            \r\n            <motion.div\r\n              initial={{ opacity: 0, y: -20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className=\"text-center\"\r\n            >\r\n              <p className=\"text-xl font-bold text-gray-900\">\r\n                {formatDisplayDate()}\r\n              </p>\r\n            </motion.div>\r\n            \r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              onClick={handleNextDay}\r\n              className=\"rounded-full\"\r\n            >\r\n              <ChevronRight className=\"w-5 h-5 text-gray-500\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Scrollable Content com padding-top para compensar o header fixo */}\r\n      <div className=\"max-w-2xl mx-auto px-4 pt-20 py-6 space-y-6 pb-32\">\r\n        {/* Color Filter Bar */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n        >\r\n          <ColorFilterBar\r\n            selectedFilter={activeFilter}\r\n            onFilterChange={setActiveFilter}\r\n            categoryIcons={categoryIcons}\r\n          />\r\n        </motion.div>\r\n\r\n        {/* Category Name Display/Edit */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.2 }}\r\n          className=\"flex justify-center\"\r\n        >\r\n          <div ref={editRef} className=\"bg-white rounded-full shadow-md px-6 py-2 flex items-center gap-2\">\r\n            {isEditingCategory ? (\r\n              <>\r\n                <Input\r\n                  value={editCategoryValue}\r\n                  onChange={(e) => setEditCategoryValue(e.target.value)}\r\n                  className=\"h-8 text-base font-bold text-center border-0 focus-visible:ring-1 w-32\"\r\n                  autoFocus\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === \"Enter\") handleSaveCategory();\r\n                    if (e.key === \"Escape\") handleCancelEditCategory();\r\n                  }}\r\n                />\r\n                <Button\r\n                  size=\"icon\"\r\n                  variant=\"ghost\"\r\n                  onClick={() => setShowIconSelector(true)}\r\n                  className=\"h-7 w-7\"\r\n                >\r\n                  <Sparkles className=\"w-4 h-4 text-purple-600\" />\r\n                </Button>\r\n                <Button\r\n                  size=\"icon\"\r\n                  variant=\"ghost\"\r\n                  onClick={handleSaveCategory}\r\n                  className=\"h-7 w-7\"\r\n                >\r\n                  <Check className=\"w-4 h-4 text-green-600\" />\r\n                </Button>\r\n                <Button\r\n                  size=\"icon\"\r\n                  variant=\"ghost\"\r\n                  onClick={handleCancelEditCategory}\r\n                  className=\"h-7 w-7\"\r\n                >\r\n                  <X className=\"w-4 h-4 text-red-600\" />\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <span className={`text-base font-bold ${currentCategory.textColor}`}>\r\n                  {displayCategoryName}\r\n                </span>\r\n                {currentCategory.editable && (\r\n                  <Button\r\n                    size=\"icon\"\r\n                    variant=\"ghost\"\r\n                    onClick={handleStartEditCategory}\r\n                    className=\"h-7 w-7\"\r\n                  >\r\n                    <Pencil className=\"w-3 h-3 text-gray-600\" />\r\n                  </Button>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Tasks List */}\r\n        <div className=\"space-y-3\">\r\n          <AnimatePresence mode=\"popLayout\">\r\n            {filteredTasks.length === 0 ? (\r\n              <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                exit={{ opacity: 0 }}\r\n                className=\"text-center py-20\"\r\n              >\r\n                <div className=\"text-7xl mb-6\">ðŸ“‹</div>\r\n                <p className=\"text-2xl text-gray-600 font-bold mb-2\">\r\n                  {activeFilter === \"all\"\r\n                    ? \"Nenhuma tarefa para este dia\"\r\n                    : `Nenhuma tarefa em ${displayCategoryName}`}\r\n                </p>\r\n                <p className=\"text-gray-500 text-lg\">\r\n                  Clique no botÃ£o + para adicionar\r\n                </p>\r\n              </motion.div>\r\n            ) : (\r\n              filteredTasks.map((task) => (\r\n                <TaskCard\r\n                  key={task.id}\r\n                  task={task}\r\n                  onClick={() => handleTaskClick(task)}\r\n                  onToggleCompletion={handleToggleCompletion}\r\n                />\r\n              ))\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n      </div>\r\n\r\n<Link to={createPageUrl(\"CreateTask\")}>\r\n  <motion.div\r\n    initial={{ scale: 0 }}\r\n    animate={{ scale: 1 }}\r\n    transition={{ type: \"spring\", delay: 0.3 }}\r\n    whileHover={{ scale: 1.05 }}\r\n    whileTap={{ scale: 0.95 }}\r\n    className=\"fixed bottom-24 right-8 z-30\"\r\n  >\r\n    <Button\r\n      className=\"\r\n        w-20 h-20\r\n        rounded-full\r\n        bg-slate-900\r\n        shadow-[0_12px_40px_rgba(15,23,42,0.7)]\r\n        flex items-center justify-center\r\n        text-white text-3xl\r\n      \"\r\n    >\r\n      <span className=\"leading-none\">+</span>\r\n    </Button>\r\n  </motion.div>\r\n</Link>\r\n\r\n      <BottomNav onCalendarClick={() => setShowCalendar(true)} />\r\n      <CalendarPicker\r\n        isOpen={showCalendar}\r\n        onClose={() => setShowCalendar(false)}\r\n        selectedDate={selectedDate}\r\n        onDateSelect={handleDateSelect}\r\n      />\r\n      <TaskDetailsDialog\r\n        task={selectedTask}\r\n        isOpen={showDetailsDialog}\r\n        onClose={() => setShowDetailsDialog(false)}\r\n        onDelete={handleDeleteTask}\r\n      />\r\n      <IconSelector\r\n        isOpen={showIconSelector}\r\n        onClose={() => setShowIconSelector(false)}\r\n        onSelectIcon={handleSelectIcon}\r\n        currentIcon={currentIcon}\r\n      />\r\n      {alarmTask && (\r\n        <AlarmFullScreen\r\n          task={alarmTask}\r\n          onDismiss={handleDismissAlarm}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}